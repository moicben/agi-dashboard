{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///Users/ben/Documents/Tech/vnc-viewer/pages/api/config.js"],"sourcesContent":["export default async function handler(req, res) {\n  try {\n    // Configuration depuis les variables d'environnement\n    const INCUS_SERVER = process.env.INCUS_SERVER;\n    const IP_PREFIX = process.env.IP_PREFIX;\n\n    // Vérifier que les variables d'environnement sont définies\n    if (!INCUS_SERVER || !IP_PREFIX) {\n      const missingVars = [];\n      if (!INCUS_SERVER) missingVars.push('INCUS_SERVER');\n      if (!IP_PREFIX) missingVars.push('IP_PREFIX');\n      \n      console.error('Variables d\\'environnement manquantes:', missingVars.join(', '));\n      res.setHeader('Access-Control-Allow-Origin', '*');\n      res.setHeader('Content-Type', 'application/json');\n      res.status(500).json({\n        error: 'Configuration incomplète',\n        message: `Variables d'environnement manquantes: ${missingVars.join(', ')}. Veuillez créer un fichier .env avec les variables requises.`,\n        missingVariables: missingVars\n      });\n      return;\n    }\n\n    res.setHeader('Access-Control-Allow-Origin', '*');\n    res.setHeader('Content-Type', 'application/json');\n    res.status(200).json({\n      incusServer: INCUS_SERVER,\n      ipPrefix: IP_PREFIX\n    });\n  } catch (error) {\n    console.error('Erreur dans /api/config:', error);\n    res.setHeader('Access-Control-Allow-Origin', '*');\n    res.status(500).json({\n      error: 'Erreur lors de la récupération de la configuration',\n      message: error.message\n    });\n  }\n}\n"],"names":[],"mappings":";;;;AAAe,eAAe,QAAQ,GAAG,EAAE,GAAG;IAC5C,IAAI;QACF,qDAAqD;QACrD,MAAM,eAAe,QAAQ,GAAG,CAAC,YAAY;QAC7C,MAAM,YAAY,QAAQ,GAAG,CAAC,SAAS;QAEvC,2DAA2D;QAC3D,IAAI,CAAC,gBAAgB,CAAC,WAAW;YAC/B,MAAM,cAAc,EAAE;YACtB,IAAI,CAAC,cAAc,YAAY,IAAI,CAAC;YACpC,IAAI,CAAC,WAAW,YAAY,IAAI,CAAC;YAEjC,QAAQ,KAAK,CAAC,0CAA0C,YAAY,IAAI,CAAC;YACzE,IAAI,SAAS,CAAC,+BAA+B;YAC7C,IAAI,SAAS,CAAC,gBAAgB;YAC9B,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;gBACnB,OAAO;gBACP,SAAS,CAAC,sCAAsC,EAAE,YAAY,IAAI,CAAC,MAAM,6DAA6D,CAAC;gBACvI,kBAAkB;YACpB;YACA;QACF;QAEA,IAAI,SAAS,CAAC,+BAA+B;QAC7C,IAAI,SAAS,CAAC,gBAAgB;QAC9B,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YACnB,aAAa;YACb,UAAU;QACZ;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,IAAI,SAAS,CAAC,+BAA+B;QAC7C,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YACnB,OAAO;YACP,SAAS,MAAM,OAAO;QACxB;IACF;AACF"}}]
}